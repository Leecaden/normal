{"version":3,"sources":["/Users/hungngeeling/m/server-v1/dark/src/app/components/file-upload/file-upload.component.css","/Users/hungngeeling/m/server-v1/dark/src/app/components/file-upload/file-upload.component.html","/Users/hungngeeling/m/server-v1/dark/src/app/components/file-upload/file-upload.component.ts","/Users/hungngeeling/m/server-v1/dark/src/app/components/file-upload/file-upload.module.ts","/Users/hungngeeling/m/server-v1/dark/src/app/components/file-upload/file-upload.routing.ts","/Users/hungngeeling/m/server-v1/dark/src/app/components/file-upload/list-file/list-file.component.css","/Users/hungngeeling/m/server-v1/dark/src/app/components/file-upload/list-file/list-file.component.html","/Users/hungngeeling/m/server-v1/dark/src/app/components/file-upload/list-file/list-file.component.ts","/Users/hungngeeling/m/server-v1/dark/src/app/components/file-upload/shared/list-file.service.ts","/Users/hungngeeling/m/server-v1/dark/src/app/components/file-upload/shared/upload.service.ts","/Users/hungngeeling/m/server-v1/dark/src/app/components/file-upload/shared/upload.ts"],"names":[],"mappings":"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","file":"file-upload.module.chunk.js","sourcesContent":["exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"#uploadInput {\\n\\t/*Hide input bar*/\\n\\tdisplay : none;\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/hungngeeling/m/server-v1/dark/src/app/components/file-upload/file-upload.component.css\n// module id = ../../../../../src/app/components/file-upload/file-upload.component.css\n// module chunks = file-upload.module","module.exports = \"<div class=\\\"row\\\">\\n  <div class=\\\"col-sm-12\\\">\\n    <app-card [title]=\\\"'Your Files'\\\">\\n\\n      <div>\\n        <input type=\\\"file\\\" (change)=\\\"singleUpload($event)\\\" id=\\\"uploadInput\\\">\\n      </div>\\n\\n      <div class=\\\"container\\\">\\n        <!--[disabled]=\\\"!pickedFile\\\" Took this NG directive away as it was no longer needed-->\\n        <button (click)=\\\"openFileSelect()\\\" class = \\\"btn btn-primary\\\">Upload</button>\\n        <br>\\n        <br>\\n        <app-list-file><spinner></spinner></app-list-file>\\n      <div *ngIf = \\\"uploadingList[0]\\\" class=\\\"panel panel-primary\\\">\\n        <div class=\\\"panel-heading bg-primary\\\">\\n          Upload Progress\\n        </div>\\n        <div class=\\\"panel-body\\\">\\n          <table class=\\\"table table-responsive\\\">\\n\\n            <tr *ngFor=\\\"let upload of uploadingList\\\" >\\n              <td *ngIf=\\\"upload.progress < 100\\\" > Uploading: \\\"{{upload.name}}{{upload.extension}}\\\" , Completed: {{upload.progress}}%</td>\\n              <td class=\\\"table-success\\\" *ngIf=\\\"upload.progress === 100\\\"> \\\"{{upload.name}}{{upload.extension}}\\\" Uploaded</td>\\n            </tr>\\n          </table>\\n        </div>\\n      </div>\\n      </div>\\n    </app-card>\\n  </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/hungngeeling/m/server-v1/dark/src/app/components/file-upload/file-upload.component.html\n// module id = ../../../../../src/app/components/file-upload/file-upload.component.html\n// module chunks = file-upload.module","import {Component, OnInit} from '@angular/core';\n//import {FileUploader} from \"ng2-file-upload\";\nimport { Upload } from \"./shared/upload\";\n\nimport { UploadService } from \"./shared/upload.service\";\nimport { ListFileService } from \"./shared/list-file.service\";\n\n@Component({\n  selector: 'app-file-upload',\n  templateUrl: './file-upload.component.html',\n  styleUrls: ['./file-upload.component.css'],\n  providers: [ UploadService, ListFileService]\n})\nexport class FileUploadComponent implements OnInit {\n\n  pickedFile: FileList;\n  uploadingNow: Upload;\n  uploadingList: Upload[] = [];\n\n  constructor(private uploadSvc: UploadService) { }\n\n  // detectFile(event){\n  //   //console.log this\n  //   this.pickedFile = event.target.files;\n  // }\n\n  openFileSelect(){\n    document.getElementById(\"uploadInput\").click();\n  }\n\n  singleUpload(event) {\n    //console.log this\n    // let file = this.pickedFile.item(0)\n    //.item(0) is a DOM method, select the item of index 0\n    let file = event.target.files.item(0);\n    this.uploadingNow = new Upload(file);\n    this.uploadingList.push(this.uploadingNow);\n    this.uploadSvc.pushUpload(this.uploadingNow);\n    // this.lfs.getUserFolder(\"12ffs3czxczxc\");\n  }\n\n  // resetFileLibDb(){\n  //   this.uploadSvc.resetFileLibDb();\n  // }\n\n  ngOnInit() {\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/hungngeeling/m/server-v1/dark/src/app/components/file-upload/file-upload.component.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {RouterModule} from \"@angular/router\";\n\nimport { FileUploadComponent } from './file-upload.component';\nimport { ListFileComponent } from './list-file/list-file.component';\n//import {UploadFormComponent} from './upload-form/upload-form.component';\n\nimport {FileUploadRoutes} from \"./file-upload.routing\";\nimport {SharedModule} from \"../../shared/shared.module\";\n\nimport { AngularFireModule } from \"angularfire2\";\nimport { AngularFireDatabase } from \"angularfire2/database\";\nimport { environment } from '../../../environments/environment';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule.forChild(FileUploadRoutes),\n    SharedModule,\n    AngularFireModule.initializeApp(environment.firebase, 'angular-auth-firebase')\n  ],\n  declarations: [\n  \tFileUploadComponent,\n  \tListFileComponent\n    //UploadFormComponent\n  \t],\n  providers: [AngularFireDatabase]\n})\nexport class FileUploadModule { }\n\n\n\n// WEBPACK FOOTER //\n// /Users/hungngeeling/m/server-v1/dark/src/app/components/file-upload/file-upload.module.ts","import { Routes } from '@angular/router';\r\nimport {FileUploadComponent} from \"./file-upload.component\";\r\n\r\nexport const FileUploadRoutes: Routes = [{\r\n    path: '',\r\n    component: FileUploadComponent,\r\n    data: {\r\n        breadcrumb: \"File Upload\"\r\n    }\r\n}];\r\n\n\n\n// WEBPACK FOOTER //\n// /Users/hungngeeling/m/server-v1/dark/src/app/components/file-upload/file-upload.routing.ts","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"#fileOptionsDropdown{\\n\\tbackground: none;\\n}\\n\\n#fileHeader{\\n\\twidth: 60%;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/hungngeeling/m/server-v1/dark/src/app/components/file-upload/list-file/list-file.component.css\n// module id = ../../../../../src/app/components/file-upload/list-file/list-file.component.css\n// module chunks = file-upload.module","module.exports = \"<button id=\\\"modalButton\\\" type=\\\"button\\\" class=\\\"btn btn-default waves-effect\\\" (click)=\\\"modalDefault.show()\\\" style=\\\"display:none;\\\"></button>\\n<app-modal-basic #modalDefault>\\n    <div class=\\\"app-modal-header\\\">\\n        <h4 class=\\\"modal-title\\\">Rename \\\"{{selectedFile.name}}{{selectedFile.extension}}\\\"</h4>\\n        <button type=\\\"button\\\" class=\\\"close basic-close\\\" (click)=\\\"modalDefault.hide()\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n    </div>\\n    <div class=\\\"app-modal-body\\\">\\n        <form #renameForm=\\\"ngForm\\\" (ngSubmit)=\\\"renameFile(renameForm)\\\" (keydown.enter)=\\\"$event.preventDefault()\\\">\\n\\t        New name :\\n\\t        <input type=\\\"text\\\" name=\\\"newName\\\" ngModel>\\n\\t        <button id=\\\"submitForm\\\" type=\\\"submit\\\" style=\\\"display: none;\\\"></button>\\n\\t\\t</form>\\n    </div>\\n    <div class=\\\"app-modal-footer\\\">\\n        <button id=\\\"closeModal\\\" class=\\\"btn btn-default waves-effect\\\" (click)=\\\"modalDefault.hide()\\\">Close</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-primary waves-effect waves-light\\\" (click)=\\\"dismissModalSubmit()\\\">Save changes</button> \\n    </div>\\n</app-modal-basic>\\n\\n\\n<table class=\\\"table table-responsive\\\">\\n\\t<thead class=\\\"thead-light\\\">\\n\\t\\t<tr>\\n\\t\\t\\t<th id=\\\"fileHeader\\\">File</th>\\n\\t\\t\\t<th>Date Uploaded</th>\\n\\t\\t\\t<th>File size</th>\\n\\t\\t\\t<th></th>\\n\\t\\t</tr>\\n\\t</thead>\\n\\t\\t<tr *ngFor=\\\"let file of listOfUploads\\\">\\n\\t\\t\\t<td>{{file.name}}{{file.extension}}</td>\\n\\t\\t\\t<td>{{file.createdOn | date: \\\"short\\\"}}</td>\\n\\t\\t\\t<td>{{file.size[0]}}{{file.size[1]}}</td>\\n\\t\\t\\t<td>\\n\\t\\t\\t\\t<div ngbDropdown class=\\\"dropdown-default dropdown open\\\" id=\\\"fileOptionsDropdown\\\">\\n\\t                <button ngbDropdownToggle class=\\\"btn btn-default dropdown-toggle waves-effect waves-light \\\" type=\\\"button\\\" id=\\\"dropdown1\\\" data-toggle=\\\"dropdown\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"true\\\">...</button>\\n\\t                <div ngbDropdownMenu class=\\\"dropdown-menu\\\" aria-labelledby=\\\"dropdown1\\\" data-dropdown-in=\\\"fadeIn\\\" data-dropdown-out=\\\"fadeOut\\\">\\n\\t                    <a class=\\\"dropdown-item waves-light waves-effect\\\" href=\\\"{{file.url}}\\\">Download</a>\\n\\t                    <a class=\\\"dropdown-item waves-light waves-effect\\\" (click)=\\\"renameSelectFile(file)\\\">Rename</a>\\n\\t                    <a class=\\\"dropdown-item waves-light waves-effect\\\" (click)=\\\"deleteFile(file)\\\">Delete</a>\\n\\t                </div>\\n\\t            </div>\\n\\t\\t\\t</td>\\n\\t\\t</tr>\\n\\n</table>\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/hungngeeling/m/server-v1/dark/src/app/components/file-upload/list-file/list-file.component.html\n// module id = ../../../../../src/app/components/file-upload/list-file/list-file.component.html\n// module chunks = file-upload.module","import { Component, OnInit, ViewEncapsulation, Input} from '@angular/core';\nimport {fadeInOutTranslate} from \"../../../shared/elements/animation\";\nimport { ListFileService } from \"../shared/list-file.service\";\nimport { UploadService } from \"../shared/upload.service\";\nimport { Upload } from \"../shared/upload\";\nimport { DatePipe } from \"@angular/common\";\n\nimport { NgForm } from \"@angular/forms\";\n\n@Component({\n  selector: 'app-list-file',\n  templateUrl: './list-file.component.html',\n  styleUrls: ['./list-file.component.css'],\n  providers: [ ListFileService ]\n})\nexport class ListFileComponent implements OnInit {\n\n  listOfUploads: Upload[];\n\n  dummy: Upload = {\n    $key: null,\n    file: null,\n    nameRefToStorage: null,\n    size: null,\n    name: \"placeholder\",\n    url: null,\n    extension: \".placeholder\",\n    progress: null,\n    createdOn: null,\n    userFileLibraryItem: null\n  }\n\n  //Prevent error\n  selectedFile;\n\n  //Modal methods\n  openMyModal(event) {\n    document.querySelector(\"#\"+event).classList.add('md-show');\n  }\n\n  closeMyModal(event) {\n    ((event.target.parentElement.parentElement).parentElement).classList.remove('md-show');\n  }\n\n  constructor( private listFileSvc: ListFileService, private uploadSvc: UploadService) {\n\n  }\n\n  deleteFile(upload: Upload) {\n    this.uploadSvc.deleteUpload(upload)\n  }\n\n  renameSelectFile(upload: Upload){\n    this.selectedFile = upload;\n    document.getElementById(\"modalButton\").click();\n  }\n  renameFile(newNameForm: NgForm){\n    var newName = newNameForm.value.newName;\n    this.uploadSvc.renameUpload(this.selectedFile, newName)\n  }\n\n  dismissModalSubmit(){\n   document.getElementById(\"submitForm\").click()\n   document.getElementById(\"closeModal\").click()\n  }\n  \n  ngOnInit() {\n  \t// this.listOfUploads = this.listFileSvc.deliverListOfUploaded()\n  \t// console.log(\"hi\")\n    this.selectedFile = this.dummy;\n  \tthis.listFileSvc.fetchData(uploads => {\n  \tthis.listOfUploads = uploads\n  })\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/hungngeeling/m/server-v1/dark/src/app/components/file-upload/list-file/list-file.component.ts","import { Injectable } from '@angular/core';\nimport { AngularFireDatabase, FirebaseListObservable, FirebaseObjectObservable } from \"angularfire2/database\";\nimport { AuthService } from \"../../../core/auth.service\";\nimport { Upload } from \"./upload\";\n\nimport 'rxjs/add/operator/toPromise';\nimport 'rxjs/add/operator/first';\nimport 'rxjs/add/operator/map';\nimport * as firebase from \"firebase\";\n\n@Injectable()\nexport class ListFileService {\n  \n  private userID: string = this.firebaseAuth.authState.uid;\n  private fileNameList: Upload[] = [];\n\n  constructor(private db: AngularFireDatabase,private firebaseAuth : AuthService) { }\n  uploads : FirebaseListObservable<Upload[]>;\n\n  \n  // deliverListOfUploaded(): Upload[]{\n  //   var fileNameList: Upload[] = [];\n  //   var userFolder: Upload[];\n  //   this.uploads = this.db.list(`${this.userID}/`);\n  //   this.uploads.forEach(listRecords => { //Get user dataList\n  //     userFolder = listRecords;\n  //   })\n  //   userFolder.forEach(rec => { //Get individual records under user dataList\n  //     if (rec.currentFile === true ){\n  //       fileNameList.push(rec)\n  //     }\n  //   })\n  //   return fileNameList;\n  // }\n\n  // fetchData(): Promise<Upload[]>{\n  //   return this.db.list(`fileLibrary/${this.userID}/`)\n  //   .map(fetchedUploads => \n  //     fetchedUploads = this.filterData(fetchedUploads)\n  //   ) //Reassign the uploadList to a filtered one, showing only currentFiles\n  //   .first() //Captures the first item emitted by observable, which is the list of upload records we need\n  //   .toPromise(); //Convert the observable created to a promise, resolving with the list of upload records\n  //   // return new Promise(resolve => resolve(uploads))\n  // }\n\n  // private filterData(uploads: Upload[]): Upload[] {\n  //   //var userFolder: Upload[] = []\n  //   var fileNameList: Upload[] = []\n  //   // uploads.forEach(listRecords => { //Get user dataList\n  //   //   userFolder = listRecords;\n  //   // })\n  //   uploads.forEach(rec => { //Get individual records under user dataList\n  //     if (rec.userFileLibraryItem === true ){\n  //       fileNameList.push(rec)\n  //     }\n  //   })\n  //   return fileNameList\n  // }\n\n  fetchData(exportData: (listOfUpload: Upload[]) => void) {\n    this.uploads = this.db.list(`fileLibrary/${this.userID}/`)\n    this.uploads.subscribe(\n      uploadList => { uploadList.forEach(\n        upload => {\n         //var index = this.fileNameList.indexOf(upload,0)\n         // if (upload.currentFile === true && index === -1) {\n         //   this.fileNameList.push(upload)\n         })\n         exportData(uploadList)\n        },\n        err => console.log(err)\n      )\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/hungngeeling/m/server-v1/dark/src/app/components/file-upload/shared/list-file.service.ts","import { Injectable, Inject } from '@angular/core';\nimport { AngularFireDatabase, FirebaseListObservable, FirebaseObjectObservable } from \"angularfire2/database\";\nimport { AuthService } from \"../../../core/auth.service\";\nimport { Upload } from \"./upload\";\n\nimport { environment } from \"../../../../environments/environment\";\n\n\nimport * as firebase from \"firebase\";\nimport \"rxjs/add/operator/first\";\nimport \"rxjs/add/operator/toPromise\";\n\n// firebase.initializeApp(environment.firebase);\n \n@Injectable()\nexport class UploadService {\n\n  private userID: string = this.firebaseAuth.authState.uid;\n  //12ffs3czxczxc\n\n  private basePath: string = this.userID;\n  userFolder : FirebaseObjectObservable<Upload>;\n  uploads : FirebaseListObservable<Upload[]>;\n\n  private retrievedRecords: string[] = [];\n\n  uploadingProgress: Upload[] = [];\n\n\n  constructor(private db: AngularFireDatabase, private firebaseAuth : AuthService) {}\n\n  pushUpload(upload: Upload){\n  \tlet storageRef = firebase.storage().ref();\n  \tlet uploadTask = storageRef.child(`fileLibrary/${this.basePath}/${upload.file.name}`).put(upload.file);\n    this.uploadingProgress.push(upload);\n    \n  \tuploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,\n  \t\t(snapshot) => {\n  \t\t\tupload.progress = Math.ceil((uploadTask.snapshot.bytesTransferred/uploadTask.snapshot.totalBytes) * 100)\n  \t\t},\n  \t\t(error) => {\n  \t\t\tconsole.log(error);\n  \t\t},\n  \t\t() => {\n  \t\t\tupload.url = uploadTask.snapshot.downloadURL;\n  \t\t\tthis.saveFileData(upload);\n        \n  \t\t}\n  \t\t);\n  }\n\n  private saveFileData(upload: Upload) {\n      this.getData()\n        .then(data => {\n          //Using promise to get data ensures this run smoothly and delete duplicated records BEFORE upload record is pushed.\n          this.delDuplicateRecord(upload, data)\n          this.db.list(`fileLibrary/${this.basePath}/`).push(upload)\n        })\n        //Reload after saving record to database. Using promise as premature reload will cause the data to be not saved.\n      \n      \n    //push record to database after all others currentFile are set to false\n    \n\t}\n\n  private getData(): Promise<Upload[]> {\n    return this.db.list(`fileLibrary/${this.basePath}/`)\n            .first()\n            .toPromise()\n  }\n\n  private delDuplicateRecord(upload: Upload, dataList: Upload[]) {//Get the right user folder\n    // let userFolder: Upload[] = [];\n    // dataList.forEach(listRecords => { //Get user dataList\n    //   userFolder = listRecords; \n    // }) \n    dataList.forEach(rec => { //Get individual records under user dataList\n      if (upload.name == rec.name){\n      //Demote old records with same file name, allowing new record to be the currentFile\n      this.db.object(`fileLibrary/${this.basePath}/`+ rec.$key).remove()\n      }\n    })\n  }\n\n\n  deleteUpload(upload: Upload){\n      this.deleteStorageFile(upload.nameRefToStorage)  \t\n  \t.then( () => {\n      this.deleteFileData(upload.$key)\n  \t})\n  \t.catch(error => console.log(error))\n  }\n\n  private deleteFileData(key: string){\n  \tthis.db.object(`fileLibrary/${this.basePath}/${key}`).remove()\n  }\n  private deleteStorageFile(name: string){\n  \tlet storageRef = firebase.storage().ref();\n  \treturn storageRef.child(`fileLibrary/${this.basePath}/${name}`).delete();\n  }\n   \n  renameUpload(upload: Upload, newName: string){\n    this.db.object(`fileLibrary/${this.basePath}/${upload.$key}`).update({name: newName});\n  }\n\n  // resetFileLibDb(){\n  //   this.db.list(`fileLibrary/${this.basePath}/`).remove()\n  // }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/hungngeeling/m/server-v1/dark/src/app/components/file-upload/shared/upload.service.ts","import * as firebase from \"firebase\";\n\nexport class Upload {\n\n\t$key: string;\n\tfile: File;\n\tnameRefToStorage: string;\n\tsize: [number, string];\n\tname: string;\n\turl: string;\n\textension: string;\n\tprogress: number;\n\tcreatedOn: Object;\n\tuserFileLibraryItem: boolean;\n\n\tconstructor(file: File){\n\t\tthis.file = file;\n\t\tthis.createdOn = firebase.database.ServerValue.TIMESTAMP;\n\t\tthis.userFileLibraryItem = true;\n\n\t\t//Used to reference to firebase Storage\n\t\tthis.nameRefToStorage = file.name\n\n\t\t//Used for display\n\t\tlet splitName: string[] = file.name.split(\".\");\n\t\tthis.extension = \".\".concat(splitName[splitName.length-1]);\n\t\tthis.name = file.name.replace(this.extension, \"\");\n\n\t\tif(file.size < 1024){\n\t\t\tthis.size = [file.size,\"B\"];\n\t\t} else if (file.size >= 1024 && file.size < 1024**2) {\n\t\t\tlet sizeInKB = Math.round(file.size/1024);\n\t\t\tthis.size = [ sizeInKB, \" KB\"];\n\t\t} else if (file.size >= 1024**2 && file.size < 1024**3) {\n\t\t\tlet sizeInMB = Math.round(file.size/(1024**2))\n\t\t\tthis.size = [ sizeInMB, \" MB\"];\n\t\t} else if (file.size >= 1024**3 && file.size < 1024**4) {\n\t\t\tlet sizeInGB = Math.round(file.size/(1024**3))\n\t\t\tthis.size = [ sizeInGB, \"GB\"];\n\t\t} else if (file.size >= 1024**4) {\n\t\t\tlet sizeInTB = Math.round(file.size/(1024**4))\n\t\t\tthis.size = [ sizeInTB, \"TB\"];\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/hungngeeling/m/server-v1/dark/src/app/components/file-upload/shared/upload.ts"],"sourceRoot":"webpack:///"}